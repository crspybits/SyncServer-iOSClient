source 'https://github.com/CocoaPods/Specs.git'
source 'https://github.com/crspybits/Specs.git'

use_frameworks!

target 'SyncServer_Example' do
	# This is needed because we can't put it in the SyncServer Cocoapod-- it apparently has static frameworks. :(.
	
	pod 'SyncServer', :path => '..'
	pod 'SyncServer/Facebook', :path => '..'
	pod 'SyncServer/Dropbox', :path => '..'
	pod 'SyncServer/Google', :path => '..'
	
	pod 'SMCoreLib', :path => '../../Common/SMCoreLib'
	pod 'SyncServer-Shared', :path => '../../SyncServer-Shared'
	
# 	pod 'SyncServer'
# 	pod 'SyncServer/Facebook'
#	pod 'SyncServer/Dropbox'

	target 'SyncServer_Tests' do
    	inherit! :search_paths
  	end
  	
  	# 9/14/17; Cocoapods isn't quite ready for Xcode9. This is a workaround:
	# See also https://github.com/CocoaPods/CocoaPods/issues/6791
	
	post_install do |installer|
	
		myTargets = ['Gloss', 'SyncServer-Shared', 'FacebookCore', 'SMCoreLib']
		
		installer.pods_project.targets.each do |target|
			if myTargets.include? target.name
				target.build_configurations.each do |config|
					config.build_settings['SWIFT_VERSION'] = '3.2'
				end
			end
		end
	end
end
